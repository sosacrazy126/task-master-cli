*   **Purpose:** This codebase provides a CLI tool (`task-master`) to initialize and manage software development projects. It leverages AI services (Anthropic Claude, Perplexity) to break down Product Requirement Documents (PRDs), analyze task complexity, generate tasks/subtasks, and provide research-backed implementation guidance.
*   **Core Files:**
    *   `index.js`: The main package entry point, exporting functions and potentially handling CLI command routing.
    *   `scripts/init.js`: Handles the interactive project initialization (`task-master init`), setting up directories and template files (`package.json`, `.env.example`, `.gitignore`, `.cursor/rules`, `.windsurfrules`).
    *   `scripts/modules/task-manager.js`: Contains the core logic for managing tasks: parsing PRDs, listing/updating tasks, expanding tasks into subtasks, analyzing complexity, and adding/removing tasks/subtasks.
    *   `scripts/modules/ai-services.js`: Abstracts interactions with different AI providers (Anthropic, Perplexity via OpenAI compatibility), handling API calls (including streaming), prompt generation, and response parsing for task generation and analysis.
    *   `scripts/modules/utils.js`: Provides shared utility functions for logging, configuration management (via `CONFIG` object and environment variables), JSON file I/O, string manipulation (like `toKebabCase`), and task/dependency helper functions.
*   **Initialization Flow:** The `task-master init` command (run via `bin/task-master-init.js` which loads `scripts/init.js`) prompts the user for project details (or uses CLI flags), creates a standard project structure (`tasks/`, `scripts/`, `.cursor/rules/`), copies template configuration files, sets up `package.json` with necessary dependencies and scripts, and runs `npm install`.
*   **Task Management & AI Data Flow:** Tasks are stored primarily in `tasks/tasks.json`. Commands like `parse-prd`, `expand`, `analyze-complexity`, `add-task` (invoked via `dev.js` or Cursor Agent prompts) trigger functions in `task-manager.js`. These functions often use `ai-services.js` to construct prompts (incorporating existing task data or PRD content), call AI APIs, receive responses (often streamed), parse the JSON results, and update `tasks/tasks.json`. Task files (`tasks/task_NNN.txt`) are generated based on the JSON data.
*   **Data & Configuration:** Task data is structured JSON (`tasks/tasks.json`). Complexity analysis results are stored in `scripts/task-complexity-report.json`. Configuration (API keys, model names, temperature, etc.) is primarily managed via environment variables loaded by `dotenv` from `.env` (based on `.env.example`) and accessed through the `CONFIG` object in `utils.js`. Shared logic resides in `scripts/modules/`.
